"use strict";(function(){jQuery(document).ready(function(c){var e,t,n,a,i,o,s,r,l,_,u,p,d,h,m,w,f,g,k,v,b,y,j;if(j=null!=(b=window.wc_local_pickup_plus_admin)?b:{},v=null!=(y=window.pagenow)?y:"",k=function(){return{formatMatches:function(e){return 1===e?wc_enhanced_select_params.i18n_matches_1:wc_enhanced_select_params.i18n_matches_n.replace("%qty%",e)},formatNoMatches:function(){return wc_enhanced_select_params.i18n_no_matches},formatAjaxError:function(e,t,n){return wc_enhanced_select_params.i18n_ajax_error},formatInputTooShort:function(e,t){var n;return 1===(n=t-e.length)?wc_enhanced_select_params.i18n_input_too_short_1:wc_enhanced_select_params.i18n_input_too_short_n.replace("%qty%",n)},formatInputTooLong:function(e,t){var n;return 1===(n=e.length-t)?wc_enhanced_select_params.i18n_input_too_long_1:wc_enhanced_select_params.i18n_input_too_long_n.replace("%qty%",n)},formatSelectionTooBig:function(e){return 1===e?wc_enhanced_select_params.i18n_selection_too_long_1:wc_enhanced_select_params.i18n_selection_too_long_n.replace("%qty%",e)},formatLoadMore:function(e){return wc_enhanced_select_params.i18n_load_more},formatSearching:function(){return wc_enhanced_select_params.i18n_searching}}},j.initializeEnhancedSelect=function(e,n){var t;return c(e).is(".enhanced")&&c(e).removeClass("enhanced"),"3.5.3"===j.select2_version?(t={allowClear:!!c(e).data("allow_clear"),placeholder:c(e).data("placeholder"),minimumInputLength:c(e).data("minimum_input_length")?c(e).data("minimum_input_length"):"3",escapeMarkup:function(e){return e},ajax:{url:j.ajax_url,cache:!1,dataType:"json",quietMillis:250,data:function(e,t){return c.extend({term:e},n)},results:function(e,t){var n;return n=[],e&&c.each(e,function(e,t){return n.push({id:e,text:t})}),{results:n}}}},!0===c(e).data("multiple")?(t.multiple=!0,t.initSelection=function(e,t){var n,a;return n=c.parseJSON(e.attr("data-selected")),a=[],c(e.val().split(",")).each(function(e,t){return a.push({id:t,text:n[t]})}),t(a)},t.formatSelection=function(e){return'<div class="selected-option" data-id="'+e.id+'">'+e.text+"</div>"}):(t.multiple=!1,t.initSelection=function(e,t){return t({id:e.val(),text:e.attr("data-selected")})})):t={allowClear:!!c(e).data("allow_clear"),placeholder:c(e).data("placeholder"),minimumInputLength:c(e).data("minimum_input_length")?c(e).data("minimum_input_length"):"3",escapeMarkup:function(e){return e},ajax:{url:j.ajax_url,cache:!1,dataType:"json",delay:250,data:function(e){return c.extend({term:e.term},n)},processResults:function(e,t){var n;return n=[],e&&c.each(e,function(e,t){return n.push({id:e,text:t})}),{results:n}}}},t=c.extend(t,k()),c(e).select2(t).addClass("enhanced")},"woocommerce_page_wc-settings"===v&&(i=c("#woocommerce_local_pickup_plus_enable_per_item_selection"),n=c("#woocommerce_local_pickup_plus_item_handling"),i&&n&&(a=n.closest("td").parent(),o=c("#woocommerce_local_pickup_plus_default_handling").closest("td").parent(),i.on("change",function(e){return"per-order"===c(this).val()?(a.show(),o.show()):(a.hide(),o.hide())}),i.trigger("change"),n.trigger("change")),(p=c("#woocommerce_local_pickup_plus_pickup_locations_sort_order"))&&(e=c("#woocommerce_local_pickup_plus_google_maps_api_key"),h=c("#woocommerce_local_pickup_plus_enable_logging"),d=h.closest("tr"),r=p.find('option[value="distance_customer"]'),s=p.find('option[value="default"]'),g=p.next("p.description"),e&&r&&s&&(e.on("change keyup paste",function(e){return""===c(this).val()?(h.prop("checked",!1),d.hide(),g.show(),"distance_customer"===p.val()&&(p.val("default"),p.trigger("change")),r.prop("disabled","disabled")):(r.removeProp("disabled"),d.show(),g.hide())}),e.trigger("change")),p.trigger("change")),(t=c("#woocommerce_local_pickup_plus_pickup_appointments_mode"))&&(t.on("change",function(e){var t,n,a,i;return t=c(".wc-local-pickup-plus-business-hours-field").closest("td").parent(),i=c("#woocommerce_local_pickup_plus_default_public_holidays").closest("td").parent(),a=c("#woocommerce_local_pickup_plus_default_lead_time_amount").closest("td").parent(),n=c("#woocommerce_local_pickup_plus_default_deadline_amount").closest("td").parent(),"disabled"===c(this).val()?(t.hide(),i.hide(),a.hide(),n.hide()):(t.show(),i.show(),a.show(),n.show())}),t.trigger("change"))),"wc_pickup_location"===v&&(c("#edit-pickup-location-coordinates").on("click",function(e){return c(".edit-pickup-location-coordinates").toggle()}),c("#_products_availability_mode").on("change",function(e){return"any"===c(this).val()?(c(".js-show-if-products-availability-is-some").hide(),c(".js-show-if-products-availability-is-any").show()):(c(".js-show-if-products-availability-is-some").show(),c(".js-show-if-products-availability-is-any").hide())}),c("#pickup-location-products button").on("click",function(e){var t,n,a;return e.preventDefault(),a=(t=c(this).parent("p")).find(".js-search-products"),n=t.find("> span"),c(this).hide(),c(this).prev("button").show(),c(this).next("button").show(),c(this).hasClass("js-add-products")||c(this).hasClass("js-add-product-categories")?n.show():(a.val("").trigger("change"),n.hide())}),c("#_price_adjustment_enabled").on("click",function(e){var t;return t=c(".js-show-if-price-adjustment-enabled"),c(this).is(":checked")?t.show():t.hide()}),c("#_business_hours_enabled").on("click",function(e){var t;return t=c(".js-show-if-business-hours-enabled"),c(this).is(":checked")?t.show():t.hide()}),c("#_public_holidays_enabled").on("click",function(e){var t;return t=c(".js-show-if-public-holidays-enabled"),c(this).is(":checked")?t.show():t.hide()}),c("#_pickup_lead_time_enabled").on("click",function(e){var t;return t=c(".js-show-if-lead-time-enabled"),c(this).is(":checked")?t.show():t.hide()}),c("#_pickup_deadline_enabled").on("click",function(e){var t;return t=c(".js-show-if-deadline-enabled"),c(this).is(":checked")?t.show():t.hide()}),c("ul.wc-tabs").show(),c("div.panel-wrap").each(function(){return c(this).find("div.panel:not(:first)").hide()}),c("ul.wc-tabs a").click(function(){var e,t;return t=c(this).attr("href"),e=c(this).closest("div.panel-wrap"),c("ul.wc-tabs li",e).removeClass("active"),c(this).parent().addClass("active"),c("div.panel",e).hide(),c(t).show()}),c("ul.wc-tabs li:visible").eq(0).find("a").click()),"admin_page_wc_local_pickup_plus_export"!==v&&"admin_page_wc_local_pickup_plus_import"!==v||(u=(l=c(".wc-local-pickup-plus > form")).find("h2"),(_=l.find(".wc-admin-breadcrumb")).show(),_.appendTo(u)),"edit-shop_order"!==v&&"woocommerce_page_wc_customer_order_csv_export"!==v&&"woocommerce_page_wc_customer_order_xml_export_suite"!==v||(f=c(".wc-local-pickup-plus-pickup-location-search"))&&j.initializeEnhancedSelect(f,{action:"wc_local_pickup_plus_json_search_pickup_location_ids",security:j.search_pickup_locations_nonce}),"shop_order"===v&&(m=c(".wc-local-pickup-plus-order-shipping-item-pickup-data"))&&(f=m.find(".wc-local-pickup-plus-pickup-location-search"),w=m.find("input.pickup-date"),f&&j.initializeEnhancedSelect(f,{action:"wc_local_pickup_plus_json_search_pickup_location_ids",security:j.search_pickup_locations_nonce}),w))return w.datepicker({dateFormat:"yy-mm-dd"})})}).call(void 0);